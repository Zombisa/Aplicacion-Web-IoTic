[pytest]
# Configuración de pytest para el proyecto Django

# Configuración de Django
DJANGO_SETTINGS_MODULE = backend.settings
python_files = tests.py test_*.py *_tests.py
python_classes = Test* *Tests *Test
python_functions = test_*

# Opciones de ejecución
addopts = 
    --verbose
    --strict-markers
    --tb=short
    --cov=apps
    --cov-report=html
    --cov-report=term-missing
    --cov-branch
    --maxfail=3
    
# Marcadores personalizados
markers =
    slow: marca tests que tardan mucho tiempo
    integration: marca tests de integración
    unit: marca tests unitarios
    api: marca tests de API
    models: marca tests de modelos
    serializers: marca tests de serializadores
    views: marca tests de vistas

# Paths donde buscar tests
testpaths = apps

# Ignorar warnings específicos
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Configuración de cobertura
[coverage:run]
source = apps
omit = 
    */migrations/*
    */tests.py
    */test_*.py
    */__pycache__/*
    */admin.py
    */apps.py

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    def __str__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
    if TYPE_CHECKING:
    @abstractmethod
