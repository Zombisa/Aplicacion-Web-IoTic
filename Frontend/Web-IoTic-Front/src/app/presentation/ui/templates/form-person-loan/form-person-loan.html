<div class="card shadow-lg rounded-4 p-3 p-md-4 border-0">
    <div class="d-flex justify-content-center align-items-center mt-4 mt-md-0 section-title ">
    <h5 class="card-title mb-3">Informacion de la persona</h5>
    </div>
    <form [formGroup]="loanForm" (ngSubmit)="onSubmit()" novalidate>
    
    <!-- Nombre de la persona -->
    <div class="mb-3">
        <label for="nombre_persona" class="form-label fw-semibold small">
        Nombre de la persona <span class="text-danger">*</span>
        </label>
        <input
        type="text"
        id="nombre_persona"
        formControlName="nombre_persona"
        class="form-control"
        placeholder="Ingrese el nombre del solicitante"
        [class.is-invalid]="loanForm.get('nombre_persona')?.invalid && loanForm.get('nombre_persona')?.touched"
        />
        <div class="invalid-feedback" *ngIf="loanForm.get('nombre_persona')?.invalid && loanForm.get('nombre_persona')?.touched">
        El nombre es obligatorio (mínimo 3 caracteres)
        </div>
    </div>

    <div class="mb-3">
        <label for="identificacion_persona" class="form-label fw-semibold small">
        Cedula<span class="text-danger">*</span>
        </label>
        <input type="text"
        id="cedula"
        formControlName="cedula"
        class="form-control"
        placeholder="Ingrese la identificación del solicitante"
        [class.is-invalid]="loanForm.get('cedula')?.invalid && loanForm.get('cedula')?.touched"
        />
        <div class="invalid-feedback" *ngIf="loanForm.get('cedula')?.invalid && loanForm.get('cedula')?.touched">
        La cédula es obligatoria (debe ser de 10 caracteres)
        </div>
    </div>

    <div class="mb-3" >
        <label for="telefono" class="form-label fw-semibold small">
        Teléfono<span class="text-danger">*</span>
        </label>
        <input type="text"
        id="telefono"
        formControlName="telefono"
        class="form-control"
        placeholder="Ingrese el teléfono del solicitante"
        [class.is-invalid]="loanForm.get('telefono')?.invalid && loanForm.get('telefono')?.touched"
        />
        <div class="invalid-feedback" *ngIf="loanForm.get('telefono')?.invalid && loanForm.get('telefono')?.touched">
        El teléfono es obligatorio (debe ser de 10 caracteres)
        </div>  
    </div>

    <div class="mb-3">
        <label for="correo" class="form-label fw-semibold small">
            Correo electrónico<span class="text-danger">*</span>
        </label>
        <input type="text" 
        id="correo"
        formControlName="correo"
        class="form-control"
        placeholder="Ingrese el correo electrónico del solicitante"
        [class.is-invalid]="loanForm.get('correo')?.invalid && loanForm.get('correo')?.touched"
        />
        <div class="invalid-feedback" *ngIf="loanForm.get('correo')?.invalid && loanForm.get('correo')?.touched">
        El correo electrónico es obligatorio y debe tener un formato válido
        </div>  
    </div>

    <div class="mb-3">
        <label for="direcion" class="form-label fw-semibold small">
        Dirección<span class="text-danger">*</span>
        </label>
        <input type="text"
        id="direccion"
        formControlName="direccion"
        class="form-control"
        placeholder="Ingrese la dirección del solicitante"
        [class.is-invalid]="loanForm.get('direccion')?.invalid && loanForm.get('
        direccion')?.touched">
        <div class="invalid-feedback" *ngIf="loanForm.get('direccion')?.invalid && loanForm.get('direccion')?.touched">
        La dirección es obligatoria 
        </div>
    </div>

    <!-- Fecha devolución -->
    <div class="mb-3">
        <label for="fecha_limite" class="form-label fw-semibold small">
        Fecha de devolución esperada
        </label>
        <input
        type="date"
        id="fecha_limite"
        formControlName="fecha_limite"
        class="form-control"
        />
    </div>

    <!-- Mensajes -->
    <div *ngIf="showSuccess" class="alert alert-success alert-dismissible fade show mb-3" role="alert">
        {{ successMessage }}
        <button type="button" class="btn-close" (click)="hideMessages()"></button>
    </div>

    <div *ngIf="showError" class="alert alert-danger alert-dismissible fade show mb-3" role="alert">
        {{ errorMessage }}
        <button type="button" class="btn-close" (click)="hideMessages()"></button>
    </div>

    <!-- Botones -->
    <div class="d-flex justify-content-end gap-2">
        <button type="button" class="btn btn-outline-secondary" (click)="resetForm()">Limpiar</button>
        <button type="submit" class="btn btn-primary" [disabled]="loanForm.invalid || isLoading">
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
        {{ isLoading ? 'Guardando...' : 'Guardar Préstamo' }}
        </button>
    </div>
    </form>
</div>