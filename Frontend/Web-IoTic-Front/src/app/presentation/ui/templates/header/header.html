<header class="header-container">
  <nav class="nav-bar d-flex">
    <div class="logo-section">
      <h2>IoTic</h2>
    </div>

    <ul class="nav-list d-flex ">
      <ng-container *ngFor="let item of visibleSections()">
        <li 
            [class.active]="router.url === item.path"
            (click)="navigateTo(item.path)"
            class="nav-item">
          <mat-icon class="nav-icon">{{ item.icon }}</mat-icon>
        </li>
      </ng-container>
    </ul>

    <!-- Indicador de inactividad -->
    <div *ngIf="hasAuthenticatedUser() && inactivityWarning().show" class="inactivity-indicator">
      <div class="warning-badge">
        <i class="fas fa-clock"></i>
        <span class="time-text">{{ formatTime(inactivityWarning().timeLeft) }}</span>
        <button 
          class="btn-extend" 
          (click)="extendSession()"
          title="Extender sesión">
          <i class="fas fa-refresh"></i>
        </button>
      </div>
    </div>

    <!-- Botón de cerrar sesión -->
    <div *ngIf="hasAuthenticatedUser()" class="logout-section">
      <button 
        class="btn-logout" 
        (click)="logout()"
        title="Cerrar sesión">
        <i class="fas fa-sign-out-alt"></i>
        <span class="logout-text">Cerrar sesión</span>
      </button>
    </div>

  </nav>
</header>