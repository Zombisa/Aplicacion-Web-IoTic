<app-loading-page *ngIf="loadingService.loading$ | async"></app-loading-page>
<div *ngIf="!(loadingService.loading$ | async)">
  <div class="header-wrapper">
    <app-header></app-header>
  </div>
  
  <div class="page-container">
    <div class="title-section">
      <h1 class="page-title">Crear Nuevo Usuario</h1>
      <div class="title-divider"></div>
    </div>

    <section class="content-section">
      <!-- Mensajes de éxito/error -->
      <div *ngIf="showSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>¡Éxito!</strong> Usuario creado correctamente. Redirigiendo...
        <button type="button" class="btn-close" (click)="hideMessages()" aria-label="Close"></button>
      </div>

      <div *ngIf="showError" class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>Error:</strong> {{ errorMessage }}
        <button type="button" class="btn-close" (click)="hideMessages()" aria-label="Close"></button>
      </div>

      <!-- Formulario de creación -->
      <app-form-create-user
        [roles]="roles"
        (submitted)="onCreateUser($event)"
        (cancelled)="onCancel()">
      </app-form-create-user>
    </section>
  </div>
</div> 
